<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0a0a0a">
    <title>RawGPT</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <nav class="sidebar collapsed" id="sidebar">
            <div class="sidebar-header">
                <button class="new-chat-btn" id="newChatBtn"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round"><path d="M12 5v14M5 12h14"/></svg><span>–ù–æ–≤—ã–π —á–∞—Ç</span></button>
                <button class="icon-btn" id="sidebarToggleBtn"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="9" y1="3" x2="9" y2="21"/></svg></button>
            </div>
            <div class="sidebar-search"><input type="text" placeholder="–ü–æ–∏—Å–∫..." id="searchInput"></div>
            <div class="sidebar-conversations" id="conversationList"></div>
            <div class="connection-status"><div class="status-dot disconnected" id="statusDot"></div><span id="statusText">–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ</span></div>
            <div class="sidebar-footer">
                <div class="sidebar-footer-item" id="settingsBtn">
                    <div class="user-avatar"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></div>
                    <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                </div>
            </div>
        </nav>
        <div class="sidebar-overlay" id="sidebarOverlay"></div>
        <main class="main-area">
            <header class="top-bar">
                <div class="top-bar-left">
                    <button class="menu-btn" id="menuBtn"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="9" y1="3" x2="9" y2="21"/></svg></button>
                    <button class="model-selector" id="modelSelector">
                        <span id="currentModelName">–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å</span>
                        <span class="model-features" id="modelFeatures"></span>
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M6 9l6 6 6-6"/></svg>
                    </button>
                </div>
                <div class="top-bar-right">
                    <div class="btn-group" id="themeGroup">
                        <button class="group-btn active" data-theme-set="dark">üåô</button>
                        <button class="group-btn" data-theme-set="light">‚òÄÔ∏è</button>
                        <button class="group-btn" data-theme-set="amoled">‚ö´</button>
                    </div>
                    <button class="top-icon-btn" id="refreshModelsBtn"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2"><polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/><path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"/></svg></button>
                    <button class="top-icon-btn" id="newChatTopBtn"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round"><path d="M12 5v14M5 12h14"/></svg></button>
                </div>
            </header>
            <div class="model-dropdown" id="modelDropdown">
                <div class="model-dropdown-header"><span>–ú–æ–¥–µ–ª–∏ Ollama</span><button class="model-refresh-btn" id="dropdownRefreshBtn"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/><path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"/></svg></button></div>
                <div class="model-dropdown-list" id="modelDropdownList"><div class="model-dropdown-empty">–ó–∞–≥—Ä—É–∑–∫–∞...</div></div>
            </div>
            <div class="chat-area" id="chatArea">
                <div class="welcome-screen" id="welcomeScreen">
                    <div class="welcome-logo"><div class="welcome-logo-circle">R</div></div>
                    <h1 class="welcome-title">–ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?</h1>
                    <p class="welcome-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å –∏ –Ω–∞—á–Ω–∏—Ç–µ –¥–∏–∞–ª–æ–≥</p>
                    <div class="suggestions-grid" id="suggestionsGrid">
                        <div class="suggestion-card" data-text="–ù–∞–ø–∏—à–∏ Python —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Ñ–∞–π–ª–æ–≤"><div class="suggestion-title">Python —Å–∫—Ä–∏–ø—Ç</div><div class="suggestion-sub">—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤</div></div>
                        <div class="suggestion-card" data-text="–û–±—ä—è—Å–Ω–∏ –∫–≤–∞–Ω—Ç–æ–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏"><div class="suggestion-title">–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏</div><div class="suggestion-sub">–∫–≤–∞–Ω—Ç–æ–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è</div></div>
                        <div class="suggestion-card" data-text="–°–æ—Å—Ç–∞–≤—å –ø–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –Ω–∞ –Ω–µ–¥–µ–ª—é"><div class="suggestion-title">–ü–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</div><div class="suggestion-sub">–Ω–∞ –Ω–µ–¥–µ–ª—é</div></div>
                        <div class="suggestion-card" data-text="–ü—Ä–∏–¥—É–º–∞–π 5 –∏–¥–µ–π –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"><div class="suggestion-title">–ò–¥–µ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</div><div class="suggestion-sub">–º–æ–±–∏–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞</div></div>
                    </div>
                </div>
                <div class="chat-messages" id="chatMessages" style="display:none;"></div>
            </div>
            <div class="input-area" id="inputArea">
                <button class="scroll-bottom-btn" id="scrollBottomBtn"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M6 9l6 6 6-6"/></svg></button>
                <div class="attach-popup" id="attachPopup">
                    <button class="attach-option" id="attachImage"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</button>
                    <button class="attach-option" id="attachFile"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>–§–∞–π–ª</button>
                </div>
                <div class="file-previews" id="filePreviews"></div>
                <div class="input-container compact" id="inputContainer">
                    <div class="input-inner">
                        <button class="attach-btn" id="attachBtn"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M12 5v14M5 12h14"/></svg></button>
                        <textarea class="input-textarea" id="messageInput" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ RawGPT..." rows="1"></textarea>
                        <button class="send-stop-btn send-mode" id="sendStopBtn" disabled>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="19" x2="12" y2="5"/><polyline points="5 12 12 5 19 12"/></svg>
                        </button>
                    </div>
                </div>
                <div class="input-footer">RawGPT ¬∑ –õ–æ–∫–∞–ª—å–Ω—ã–π –ò–ò</div>
            </div>
        </main>
    </div>
    <div class="modal-overlay" id="settingsModal">
        <div class="modal">
            <div class="modal-header"><h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2><button class="modal-close-btn" id="settingsCloseBtn"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round"><path d="M18 6L6 18M6 6l12 12"/></svg></button></div>
            <div class="modal-body">
                <div class="settings-section"><h3 class="settings-section-title">–¢–µ–º–∞</h3><div class="settings-field"><div class="theme-selector" id="themeSelector"><div class="theme-option active" data-theme-val="dark"><div class="theme-preview dark-preview"></div>–¢—ë–º–Ω–∞—è</div><div class="theme-option" data-theme-val="light"><div class="theme-preview light-preview"></div>–°–≤–µ—Ç–ª–∞—è</div><div class="theme-option" data-theme-val="amoled"><div class="theme-preview amoled-preview"></div>AMOLED</div></div></div></div>
                <div class="settings-section"><h3 class="settings-section-title">Ollama</h3><p class="settings-section-desc">IP –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ —Å Ollama, –Ω–∞–ø—Ä–∏–º–µ—Ä <code>http://192.168.1.50:11434</code></p><div class="settings-field"><label class="settings-label">URL</label><div class="settings-input-row"><input type="text" class="settings-input" id="ollamaUrlInput" value="http://192.168.1.1:11434"><button class="settings-btn primary" id="testConnectionBtn">–¢–µ—Å—Ç</button></div><div class="connection-result" id="connectionResult"></div></div><div class="settings-field"><label class="settings-label">–°—Ç–∞—Ç—É—Å</label><div class="settings-status"><div class="status-dot disconnected" id="settingsStatusDot"></div><span id="settingsStatusText">–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ</span></div></div><div class="settings-field"><label class="settings-label">–ú–æ–¥–µ–ª–∏</label><div class="settings-models-list" id="settingsModelsList"><div class="settings-models-empty">–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</div></div></div></div>
                <div class="settings-section"><h3 class="settings-section-title">–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç</h3><div class="settings-field"><textarea class="settings-textarea" id="systemPromptInput" placeholder="You are a helpful assistant..." rows="3"></textarea></div></div>
            </div>
            <div class="modal-footer"><button class="settings-btn" id="settingsCancelBtn">–û—Ç–º–µ–Ω–∞</button><button class="settings-btn primary" id="settingsSaveBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button></div>
        </div>
    </div>
    <div class="modal-overlay confirm-modal" id="deleteConfirmModal">
        <div class="modal">
            <div class="confirm-body"><div class="confirm-icon"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg></div><div class="confirm-title">–£–¥–∞–ª–∏—Ç—å —á–∞—Ç?</div><div class="confirm-desc" id="deleteConfirmDesc">–ë—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ.</div></div>
            <div class="confirm-actions"><button class="confirm-btn" id="deleteCancelBtn">–û—Ç–º–µ–Ω–∞</button><button class="confirm-btn danger" id="deleteConfirmBtn">–£–¥–∞–ª–∏—Ç—å</button></div>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>